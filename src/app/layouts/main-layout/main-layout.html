<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/app/home">BeeBee Caronas</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" routerLink="/app/home" routerLinkActive="active">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/app/veiculos" routerLinkActive="active">Meus Ve√≠culos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/app/minhas-viagens" routerLinkActive="active">Minhas Caronas</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" routerLink="/app/historico" routerLinkActive="active">Hist√≥rico</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/app/meu-perfil" routerLinkActive="active">Meu Perfil</a>
        </li>
      </ul>

      <div class="d-flex align-items-center">
        <div class="dropdown">
          <button class="btn btn-primary position-relative" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
            üîî
            @if (unreadCount > 0) {
              <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                {{ unreadCount }}
              </span>
            }
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">
            @if (notificacoes.length > 0) {
              @for (notificacao of notificacoes; track notificacao.id) {
                <li>
                  <a class="dropdown-item" [class.fw-bold]="!notificacao.lida" (click)="navegarParaLink(notificacao)" style="cursor: pointer; max-width: 300px; white-space: normal;">
                    <p class="mb-0 small">{{ notificacao.mensagem }}</p>
                    <small class="text-muted">{{ notificacao.data | date:'dd/MM/yy HH:mm' }}</small>
                  </a>
                </li>
              }
            } @else {
              <li><span class="dropdown-item-text">Nenhuma notifica√ß√£o</span></li>
            }
          </ul>
        </div>

        <span class="navbar-text ms-3 me-3">
          Ol√°, {{ nomeUsuario }}
        </span>
        <button (click)="logout()" class="btn btn-outline-light">Sair</button>
      </div>
      </div>
  </div>
</nav>

<main class="container mt-4">
  <router-outlet></router-outlet>
</main>
